{"version":3,"sources":["components/basket/BasketContext.jsx","components/basket/Basket.jsx","components/Header.jsx","components/HomePage.jsx","components/Loader.jsx","components/buttons/BuyButton.jsx","components/PhonePreview.jsx","components/Filter.jsx","components/PhoneCatalog.jsx","api/requests.js","components/NotFound.jsx","components/PhoneDetails.jsx","components/BasketPage.jsx","api/helpers.jsx","components/basket/BasketProvider.jsx","App.jsx","index.js"],"names":["BasketContext","React","createContext","Basket","getBasketContext","useContext","src","alt","className","totalCount","Header","exact","to","activeClassName","HomePage","Loader","BuyButton","phone","Consumer","context","type","onClick","addItemToBasket","PhonePreview","id","imageUrl","name","snippet","SORT","Filter","setSortType","setSearchFieldValue","handleSearchFieldValue","debounce","event","inputValue","target","value","toLowerCase","replace","placeholder","autoComplete","onChange","persist","debouncedHandleSearchFieldValue","PhoneCatalog","useState","phones","setPhones","isLoaded","setIsLoaded","setError","searchFieldValue","sortType","useEffect","fetch","then","res","json","err","filteredPhones","useMemo","filter","includes","shownPhones","visiblePhones","data","sortBy","item","age","sortPhones","map","key","withRouter","location","pathname","PhoneDetails","match","error","thumbCurrentImg","setThumbCurrentImg","phoneId","params","a","response","fetchData","images","description","img","index","BasketPage","itemsInBasket","decreaseCount","count","increaseCount","removeFromBasket","saveDataToLocalStorage","localStorage","setItem","JSON","stringify","BasketProvider","props","setTotalCount","setItemsInBasket","basketLocalStorage","parse","window","getItem","Provider","newItem","isInBasket","some","itemId","children","App","path","component","NotFound","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.182deb6e.chunk.js","sourcesContent":["import React from 'react';\n\nconst BasketContext = React.createContext();\n\nexport default BasketContext;\n","import React, { useContext } from 'react';\nimport BasketContext from './BasketContext';\n\nconst Basket = () => {\n  const getBasketContext = useContext(BasketContext);\n  return (\n    <>\n      <img src=\"img/basket_icon.svg\" alt=\"Basket\" className=\"basket\" />\n      <div className=\"basket__count\">{getBasketContext.totalCount}</div>\n    </>\n  );\n};\n\nexport default Basket;\n","import React from 'react';\nimport Basket from './basket/Basket';\nimport { NavLink } from 'react-router-dom';\n\nconst Header = () => {\n  return (\n    <header>\n      <nav className=\"header-nav\">\n        <ul className=\"header-nav__list\">\n          <li className=\"header-nav__li\">\n            <NavLink\n              exact\n              to=\"/\"\n              activeClassName=\"header-nav__li-active\"\n              className=\"header-nav__link\"\n            >\n              Home\n            </NavLink>\n          </li>\n          <li className=\"header-nav__li\">\n            <NavLink\n              to=\"/phones\"\n              activeClassName=\"header-nav__li-active\"\n              className=\"header-nav__link\"\n            >\n              Phones\n            </NavLink>\n          </li>\n          <li className=\"header-nav__li\">\n            <NavLink\n              to=\"/fake\"\n              activeClassName=\"header-nav__li-active\"\n              className=\"header-nav__link\"\n            >\n              Fake\n            </NavLink>\n          </li>\n          <li className=\"header-nav__li\">\n            <NavLink\n              to=\"/fake1/qqq/1233/12222/\"\n              activeClassName=\"header-nav__li-active\"\n              className=\"header-nav__link\"\n            >\n              Fake\n            </NavLink>\n          </li>\n          <li className=\"header-nav__li\">\n            <NavLink\n              to=\"/basket\"\n              activeClassName=\"header-nav__li-active\"\n              className=\"header-nav__link\"\n            >\n              <Basket to=\"/basket\" />\n            </NavLink>\n          </li>\n        </ul>\n      </nav>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst HomePage = () => {\n  return (\n    <div className=\"home-page\">\n      <h1>\n        Welcome To Home Page <br />\n        <Link to=\"/phones\" className=\"show-phones\">\n          Show Phones\n        </Link>\n      </h1>\n    </div>\n  );\n};\n\nexport default HomePage;\n","import React from 'react';\n\nconst Loader = () => {\n  return (\n    <div className=\"lds-ring\">\n      <div />\n      <div />\n      <div />\n      <div />\n    </div>\n  );\n};\n\nexport default Loader;\n","import React from 'react';\nimport BasketContext from '../basket/BasketContext';\n\nconst BuyButton = ({ phone }) => {\n  return (\n    <BasketContext.Consumer>\n      {context => (\n        <button\n          type=\"button\"\n          onClick={() => context.addItemToBasket(phone)}\n          className=\"button-buy\"\n        >\n          Buy\n        </button>\n      )}\n    </BasketContext.Consumer>\n  );\n};\n\nexport default BuyButton;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport BuyButton from './buttons/BuyButton';\n\nconst PhonePreview = ({ phone }) => {\n  const { id, imageUrl, name, snippet } = phone;\n\n  return (\n    <article className=\"item\">\n      <div>\n        <Link to={`phones/${id}`}>\n          <img src={imageUrl} alt=\"\" className=\"item__img\" />\n          <div className=\"item__title\">{name}</div>\n          <div className=\"item__description\">{snippet}</div>\n        </Link>\n      </div>\n      <BuyButton phone={phone} />\n    </article>\n  );\n};\n\nexport default PhonePreview;\n","import React from 'react';\nimport { debounce } from 'lodash';\n\nconst SORT = {\n  NEWEST: 'NEWEST',\n  ASC: 'ASC'\n};\n\nconst Filter = ({ setSortType, setSearchFieldValue }) => {\n  const handleSearchFieldValue = debounce(event => {\n    const inputValue = event.target.value.toLowerCase().replace(/(\\s)/gm, '');\n    setSearchFieldValue(inputValue);\n  }, 333);\n\n  const debouncedHandleSearchFieldValue = event => {\n    event.persist();\n    handleSearchFieldValue(event);\n  };\n\n  return (\n    <div className=\"filter\">\n      <input\n        type=\"search\"\n        name=\"serchPhones\"\n        className=\"filter__search-field\"\n        placeholder=\"Search\"\n        autoComplete=\"off\"\n        onChange={event => debouncedHandleSearchFieldValue(event)}\n      />\n      <select\n        name=\"direction\"\n        className=\"filter__direction\"\n        onChange={event => setSortType(event.target.value)}\n      >\n        <option value={SORT.ASC}>A-z</option>\n        <option value={SORT.NEWEST}>Newest</option>\n      </select>\n    </div>\n  );\n};\n\nexport default Filter;\n","import React, { useState, useMemo, useEffect } from 'react';\nimport Loader from './Loader';\nimport PhonePreview from './PhonePreview';\nimport { fetchPhones } from '../api/requests';\nimport Filter from './Filter';\nimport { sortBy } from 'lodash';\n\nconst SORT = {\n  NEWEST: 'NEWEST',\n  ASC: 'ASC'\n};\n\nconst PhoneCatalog = () => {\n  const [phones, setPhones] = useState([]);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [error, setError] = useState(false);\n  const [searchFieldValue, setSearchFieldValue] = useState('');\n  const [sortType, setSortType] = useState(SORT.ASC);\n\n  // DidUpdate\n  useEffect(() => {\n    fetchPhones().then(phones => {\n      try {\n        setPhones(phones);\n        setIsLoaded(true);\n      } catch (err) {\n        setError(true);\n      }\n    });\n  }, []);\n\n  const shownPhones = (phones, searchFieldValue) => {\n    if (!searchFieldValue) {\n      return phones;\n    } else {\n      return phones.filter(phone =>\n        phone.name\n          .replace(/(\\s)/gm, '')\n          .toLowerCase()\n          .includes(searchFieldValue)\n      );\n    }\n  };\n\n  const sortPhones = (data, sortType) => {\n    switch (sortType) {\n      case SORT.NEWEST:\n        return sortBy(data, [item => item.age]);\n\n      case SORT.ASC:\n        return sortBy(data, [item => item.name]);\n      default:\n        return data;\n    }\n  };\n  const filteredPhones = useMemo(() => shownPhones(phones, searchFieldValue), [\n    phones,\n    searchFieldValue\n  ]);\n\n  const visiblePhones = useMemo(() => sortPhones(filteredPhones, sortType), [\n    filteredPhones,\n    sortType\n  ]);\n\n  return (\n    <div className=\"phones__wrapper\">\n      <Filter\n        phones={phones}\n        setPhones={setPhones}\n        setSortType={setSortType}\n        setSearchFieldValue={setSearchFieldValue}\n      />\n      {isLoaded ? (\n        <div className=\"phones\">\n          {visiblePhones.map(phone => (\n            <PhonePreview key={phone.id} phone={phone} />\n          ))}\n        </div>\n      ) : (\n        <Loader />\n      )}\n    </div>\n  );\n};\n\nexport default PhoneCatalog;\n","const URL = 'https://mate-academy.github.io';\n\nexport const fetchPhones = () =>\n  fetch(`${URL}/phone-catalogue-static/api/phones.json`).then(res =>\n    res.json()\n  );\n","import React from 'react';\nimport { withRouter } from 'react-router';\n\nconst NotFound = ({ location }) => {\n  return (\n    <div className=\"notFound\">\n      <h1>404 NotFound</h1>\n      <h2>{location.pathname}</h2>\n    </div>\n  );\n};\n\nexport default withRouter(NotFound);\n","import React, { useState, useEffect } from 'react';\nimport NotFound from './NotFound';\nimport Loader from './Loader';\nimport BuyButton from './buttons/BuyButton';\n\nconst PhoneDetails = ({ match }) => {\n  const [phone, setPhones] = useState(null);\n  const [error, setError] = useState(false);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [thumbCurrentImg, setThumbCurrentImg] = useState(0);\n  const phoneId = match.params.phoneId;\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch(\n          `https://mate-academy.github.io/phone-catalogue-static/api/phones/${phoneId}.json`\n        );\n        const phone = await response.json();\n\n        setPhones(phone);\n        setIsLoaded(true);\n      } catch (err) {\n        setError(true);\n      }\n    };\n\n    fetchData();\n  }, [phoneId]);\n\n  if (error) {\n    return <NotFound />;\n  }\n\n  return (\n    <>\n      {isLoaded ? (\n        <div className=\"details\">\n          <section className=\"phone\">\n            <img\n              src={phone.images[thumbCurrentImg]}\n              alt={phone.name}\n              className=\"phone__main-img\"\n            />\n            <h1 className=\"phone__title\">{phone.name}</h1>\n            <p className=\"phone__description\">{phone.description}</p>\n            <div className=\"thumb\">\n              {phone.images.map((img, index) => (\n                <img\n                  src={img}\n                  alt={img}\n                  className=\"thumb__img\"\n                  key={img}\n                  onClick={() => setThumbCurrentImg(index)}\n                />\n              ))}\n            </div>\n\n            <BuyButton phone={phone} />\n          </section>\n        </div>\n      ) : (\n        <Loader />\n      )}\n    </>\n  );\n};\n\nexport default PhoneDetails;\n","import React, { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport BasketContext from './basket/BasketContext';\n\nconst BasketPage = () => {\n  const getBasketContext = useContext(BasketContext);\n\n  return (\n    <>\n      {getBasketContext.totalCount ? (\n        <table className=\"basket-table\">\n          <tbody>\n            {getBasketContext.itemsInBasket.map((item, index) => (\n              <tr className=\"basket-table__item\" key={item.id}>\n                <td>{index + 1}</td>\n                <td>\n                  <Link\n                    to={`/phones/${item.id}`}\n                    className=\"basket-table__link-to-item \"\n                  >\n                    <img\n                      src={item.imageUrl}\n                      alt={item.name}\n                      className=\"basket-table__img\"\n                    />\n                  </Link>\n                </td>\n                <td>\n                  <Link\n                    to={`/phones/${item.id}`}\n                    className=\"basket-table__link-to-item \"\n                  >\n                    {item.name}\n                  </Link>\n                </td>\n                <td className=\"basket-table__count-cell\">\n                  <button\n                    type=\"button\"\n                    className=\"myFancyButton\"\n                    onClick={() => getBasketContext.decreaseCount(item.id)}\n                  >\n                    -\n                  </button>\n                  <div>{item.count}</div>\n                  <button\n                    type=\"button\"\n                    className=\"myFancyButton\"\n                    onClick={() => getBasketContext.increaseCount(item.id)}\n                  >\n                    +\n                  </button>\n                </td>\n                <td>\n                  <button\n                    type=\"button\"\n                    className=\"myFancyButton myFancyButton--warning\"\n                    onClick={() => getBasketContext.removeFromBasket(item.id)}\n                  >\n                    X\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      ) : (\n        <p className=\"basket__empty\">Empty</p>\n      )}\n    </>\n  );\n};\n\nexport default BasketPage;\n","const saveDataToLocalStorage = (name, data) => {\n  localStorage.setItem(name, JSON.stringify(data));\n};\n\nexport default saveDataToLocalStorage;\n","import React, { useState, useEffect } from 'react';\nimport BasketContext from './BasketContext';\nimport saveDataToLocalStorage from '../../api/helpers';\n\nconst BasketProvider = props => {\n  const [totalCount, setTotalCount] = useState(0);\n  const [itemsInBasket, setItemsInBasket] = useState([]);\n\n  // ComponentDidMount\n  useEffect(() => {\n    const basketLocalStorage = JSON.parse(\n      window.localStorage.getItem('basketLocalStorage')\n    );\n    if (basketLocalStorage) {\n      setTotalCount(basketLocalStorage.totalCount);\n      setItemsInBasket(basketLocalStorage.itemsInBasket);\n    } else {\n      setTotalCount(0);\n      setItemsInBasket([]);\n    }\n  }, []);\n  // ComponentDidUpdate\n  useEffect(() => {\n    saveDataToLocalStorage('basketLocalStorage', {\n      totalCount,\n      itemsInBasket\n    });\n  });\n\n  const addItemToBasket = newItem => {\n    let isInBasket = itemsInBasket.some(item => item.id === newItem.id);\n\n    if (isInBasket) {\n      setItemsInBasket(\n        itemsInBasket.map(item => {\n          if (item.id === newItem.id) {\n            item.count++;\n            return { ...item, count: item.count++ };\n          } else {\n            return item;\n          }\n        })\n      );\n    } else {\n      setItemsInBasket([...itemsInBasket, { ...newItem, count: 1 }]);\n    }\n\n    setTotalCount(totalCount + 1);\n  };\n\n  const removeFromBasket = itemId => {\n    setItemsInBasket(\n      itemsInBasket.filter(item => {\n        if (item.id === itemId) {\n          setTotalCount(totalCount - item.count);\n          return false;\n        } else {\n          return item;\n        }\n      })\n    );\n  };\n\n  const increaseCount = itemId => {\n    setItemsInBasket(\n      itemsInBasket.map(item => {\n        if (item.id === itemId) {\n          item.count++;\n          setTotalCount(totalCount + 1);\n          return item;\n        } else {\n          return item;\n        }\n      })\n    );\n  };\n\n  const decreaseCount = itemId => {\n    setItemsInBasket(\n      itemsInBasket.map(item => {\n        if (item.id === itemId && item.count !== 1) {\n          item.count = item.count - 1;\n          setTotalCount(totalCount - 1);\n          return item;\n        } else {\n          return item;\n        }\n      })\n    );\n  };\n\n  return (\n    <BasketContext.Provider\n      value={{\n        itemsInBasket,\n        totalCount,\n        addItemToBasket,\n        removeFromBasket,\n        increaseCount,\n        decreaseCount\n      }}\n    >\n      {props.children}\n    </BasketContext.Provider>\n  );\n};\n\nexport default BasketProvider;\n","import React from 'react';\nimport './App.scss';\nimport { Route, Switch } from 'react-router-dom';\nimport Header from './components/Header';\nimport HomePage from './components/HomePage';\nimport PhoneCatalog from './components/PhoneCatalog';\nimport NotFound from './components/NotFound';\nimport PhoneDetails from './components/PhoneDetails';\nimport BasketPage from './components/BasketPage';\nimport BasketProvider from './components/basket/BasketProvider';\n\nconst App = () => (\n  <div className=\"App\">\n    <BasketProvider>\n      <Header />\n      <main>\n        <Switch>\n          <Route exact path=\"/\" component={HomePage} />\n          <Route exact path=\"/phones/\" component={PhoneCatalog} />\n          <Route exact path=\"/phones/:phoneId\" component={PhoneDetails} />\n          <Route path=\"/basket\" component={BasketPage} />\n          <Route component={NotFound} />\n        </Switch>\n      </main>\n    </BasketProvider>\n  </div>\n);\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { HashRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <HashRouter>\r\n    <App />\r\n  </HashRouter>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}